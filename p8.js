// problem 8 https://projecteuler.net/problem=8

function greatestProduct(number, numDigits) {
  let startIndex = 0;
  let endIndex;
  let digits;
  let product = 1;
  let products = [];
  number = number.replace(/\s/g, "");
  while (true) {
    endIndex = startIndex + numDigits;
    digits = number.slice(startIndex, endIndex).split("");
    for (let i = 0; i < digits.length; i++) {
      if (digits[i] == "\n") {
        continue;
      }
      let digit = parseInt(digits[i]);

      product = product * digit;
    }
    products.push(product);
    if (endIndex >= number.length) {
      break;
    }
    startIndex++;
    product = 1;
  }

  let largest = products[0];
  for (let i = 1; i < products.length; i++) {
    if(largest < products[i]){
      largest = products[i];
    }
  }
  return largest;
}

let num = `7316717653133062491922511967442657474235534919493496
983520312774506326239578318016984801869478851843969835
20312774506326239578318016984801869478851843858615607
89112949495459501737958331952853208805511125406
98747158523863050715693290963295227443043557
6689664895044524452316173185640309871112172238311
362229893423380308135336276614282806444486645238749
30358907296290491560440772390713810515859307960866
70172427121883998797908792274921901699720888093
7766572733300105336788122023542180975125454059475224352
5849077116705560136048395864467063244157221553
975369781797784617406495514929086256932197846862248
283972241375657056057490261407972968652414535100474
82166370484403199890008895243450658541227588666881
1642717147992444292823086346567481391912316282458
61786645835912456652947654568284891288314260769004224
21902267105562632111110937054421750694165896040807
198403850962455444362981230987879927244284909188845
8015616609791913387549920052406368991256071760
605886116467109405077541002256983155200055935729725
71636269561882670428252483600823257530420752963450`;

console.log(greatestProduct(num, 13));
